<HTML>
<HEAD>
<script type="text/javscript" src="AjaxRequest.js"></script>
<script type="text/javascript" src="util.sj"></script>
<script type="text/javascript" src="al.js"></script>
</HEAD>

<BODY>
<script type="text/javascript" >

var req = false;
function sendReq(url){

if (!url){
	url=document.forms["test_reply"].url.value;
	alert (url);
}
try
{
	req = new XMLHttpRequest();	
}	catch (trymicrosoft){
		try {
		req = new ActiveXObject("Msxm12.XMLHTTP");
		}
	catch (othermicrosoft){
		try{	
		req = new ActiveXobject("Microsoft.XMLHTTP");
		} 
	catch (fail){
		req = false;
	}
	}
	}

if (!req){
	alert ("error initializing AXAJ request!");
}

req.open("GET", url, true);
req.onreadystatechange = prova_reply;
req.send(null);
}

function prova_reply(){
	
	if (req.readyState == 4) {
		if (req.status == 200){
			alert ("hei, siamo allo state 4 e tutto sembra ok!");
		}else{
			alert ("c'e' stato un problema con la ricezione")
		}
	}
}

</script>

<form name="test_reply">
	<input value="http://localhost/poli-wiki/XML/scheda1.xml" name="url" type="text" />
	<input type="submit" value="request url" name="send" onClick="sendReq('')"/>
</form>
</BODY>

</HTML>